// Generated by CoffeeScript 1.9.3
(function() {
  if (window.Reader == null) {
    window.Reader = {};
  }

  window.Reader.App = (function() {
    function App(options) {
      var defaults, settings;
      console.log('Main');
      defaults = {
        contentUrl: null,
        spread: true,
        zoom: 1,
        viewport: null,
        resize: false,
        container: '#LB-Buch-Content-Def-1',
        origin: {
          x: 0,
          y: 0
        }
      };
      settings = $.extend({}, defaults, options);
      this.utils = new window.Reader.Utils;
      this.parse = new window.Reader.Parse;
      this.layout = new window.Reader.Layout;
      this.aspect = new window.Reader.Aspect(settings);
      this.http = new window.Reader.Http;
      $((function(_this) {
        return function() {
          _this.aspect.getViewportValues();
          _this.aspect.setZoom();
          return $(window).on({
            'resize': function() {
              _this.settings.resize = true;
              return _this.utils.waitForFinalEvent((function() {
                _this.settings.resize = false;
                _this.aspect.setZoom();
              }), 500, 'some unique string');
            }
          });
        };
      })(this));
    }

    return App;

  })();

}).call(this);
